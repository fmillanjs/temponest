# Agentic Company Platform - Environment Configuration
# Copy this file to .env and fill in your actual values

# =============================================================================
# GENERAL
# =============================================================================
TZ=UTC
COMPOSE_PROJECT_NAME=agentic-company

# =============================================================================
# POSTGRESQL
# =============================================================================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=change-me-in-production
POSTGRES_DB=agentic

# =============================================================================
# LANGFUSE - LLM Observability
# =============================================================================
LANGFUSE_PUBLIC_KEY=pk-lf-xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
LANGFUSE_SECRET_KEY=sk-lf-xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
LANGFUSE_NEXTAUTH_SECRET=change-me-32-chars-or-more-random
LANGFUSE_NEXTAUTH_URL=http://localhost:3000
LANGFUSE_SALT=change-me-32-chars-or-more-random
LANGFUSE_TELEMETRY_ENABLED=false

# =============================================================================
# TEMPORAL
# =============================================================================
TEMPORAL_NAMESPACE=default

# =============================================================================
# N8N - Workflow Automation
# =============================================================================
N8N_USER=admin
N8N_PASSWORD=change-me-in-production
N8N_HOST=localhost
N8N_WEBHOOK_URL=http://n8n:5678/webhook/approval

# =============================================================================
# TELEGRAM BOT
# =============================================================================
# Get this from @BotFather on Telegram
TELEGRAM_BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz

# =============================================================================
# OPEN WEBUI
# =============================================================================
WEBUI_SECRET_KEY=change-me-random-secret-key

# =============================================================================
# APPROVAL UI
# =============================================================================
APPROVAL_UI_SECRET_KEY=change-me-random-secret-key

# =============================================================================
# LLM MODELS - Ollama
# =============================================================================
CHAT_MODEL=mistral:7b-instruct
CODE_MODEL=qwen2.5-coder:7b
EMBEDDING_MODEL=nomic-embed-text

# Model Parameters (deterministic, grounded outputs)
MODEL_TEMPERATURE=0.2
MODEL_TOP_P=0.9
MODEL_MAX_TOKENS=2048
MODEL_SEED=42

# =============================================================================
# RAG - Retrieval Augmented Generation
# =============================================================================
RAG_TOP_K=5
RAG_MIN_SCORE=0.7
RAG_CHUNK_SIZE=512
RAG_CHUNK_OVERLAP=50

# =============================================================================
# BUDGET & RATE LIMITS
# =============================================================================
# Maximum tokens per task (degrade context if exceeded)
BUDGET_TOKENS_PER_TASK=8000

# SLA in milliseconds
LATENCY_SLO_MS=5000

# Calls per minute per agent
OVERSEER_CPM=20
DEVELOPER_CPM=30

# =============================================================================
# COST TRACKING
# =============================================================================
# Cost per 1M tokens (local models = 0)
CHAT_MODEL_COST_PER_1M=0.00
CODE_MODEL_COST_PER_1M=0.00
EMBEDDING_MODEL_COST_PER_1M=0.00

# =============================================================================
# APPROVAL MATRIX
# =============================================================================
# low = auto-approve, medium = 1 approval, high = 2 approvals
AUTO_APPROVE_LOW_RISK=false
REQUIRE_DUAL_APPROVAL_HIGH_RISK=true
APPROVAL_TIMEOUT_HOURS=24

# =============================================================================
# SECURITY
# =============================================================================
# Secret detection in pre-commit hook
BLOCK_SECRETS_IN_COMMITS=true

# Allowed file patterns for commits (comma-separated)
ALLOWED_SECRET_PATTERNS=.env.example,.env.template

# =============================================================================
# LOGGING & OBSERVABILITY
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json

# Trace all LLM calls
LANGFUSE_TRACE_ALL=true

# Include RAG citations in traces
LANGFUSE_TRACE_RAG_CITATIONS=true

# =============================================================================
# DEVELOPMENT
# =============================================================================
# Set to true for hot-reload in development
DEV_MODE=false

# Skip model downloads on startup (assumes models already pulled)
SKIP_MODEL_DOWNLOAD=false

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_TELEGRAM_APPROVALS=true
ENABLE_WEB_APPROVALS=true
ENABLE_AUTO_TESTS=true
ENABLE_COST_TRACKING=true
